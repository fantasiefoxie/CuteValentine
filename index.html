<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditi ‚ù§Ô∏è Valentine</title>

<style>
:root{
  --bg1:#1a0d14;
  --bg2:#2c0f1e;
  --accent:#ff4d88;
  --soft:#ff8fb3;
  --gold:#ffd166;
}

*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:Inter,system-ui;
  background:radial-gradient(circle at top,var(--bg2),#0a0508);
  color:white;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ---------- PAGE 1 ---------- */

.card{
  background:rgba(0,0,0,.5);
  backdrop-filter:blur(12px);
  padding:40px;
  border-radius:28px;
  width:min(90vw,420px);
  text-align:center;
  box-shadow:0 0 60px rgba(255,70,120,.15);
}

h1{
  margin:0;
  color:var(--accent);
  text-shadow:0 0 20px rgba(255,80,120,.6);
}

h2{
  margin:18px 0 28px;
  font-size:18px;
  color:var(--soft);
}

button{
  border:none;
  border-radius:999px;
  padding:14px 28px;
  font-size:16px;
  cursor:pointer;
}

#yes{
  background:linear-gradient(135deg,var(--accent),#ff9fbf);
  color:#2b0f1a;
  animation:pulse 2.6s infinite;
}

@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.08)}
  100%{transform:scale(1)}
}

#no{
  background:transparent;
  color:#d6b3bf;
  border:1px solid rgba(255,255,255,.15);
  position:fixed;
  left:60%;
  top:55%;
}

.tease{
  margin-top:20px;
  font-size:14px;
  color:var(--soft);
  min-height:20px;
}

/* ---------- PAGE 2 ---------- */

#celebrate{
  position:fixed;
  inset:0;
  display:none;
  overflow:hidden;
}

.topMessage{
  position:absolute;
  top:20px;
  width:100%;
  text-align:center;
  pointer-events:none;
}

.topMessage h1{
  font-size:26px;
  margin:0;
}

.topMessage h2{
  font-size:18px;
  margin-top:6px;
  transition:opacity 2s;
}

.float{
  position:absolute;
  cursor:pointer;
  user-select:none;
  font-size:40px;
  transition:transform .1s;
}

.pop{
  animation:popAnim .25s forwards;
}

@keyframes popAnim{
  0%{transform:scale(1)}
  50%{transform:scale(1.6)}
  100%{transform:scale(.2);opacity:0}
}

.stats{
  position:absolute;
  bottom:20px;
  right:20px;
  text-align:right;
  font-size:14px;
  color:var(--soft);
}

.multiplier{
  font-size:18px;
  color:var(--accent);
}

.cardViewer{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  backdrop-filter:blur(10px);
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}

.deckGrid{
  display:grid;
  grid-template-columns:repeat(auto-fill,100px);
  gap:16px;
  max-width:90vw;
}

.tcgCard{
  width:100px;
  height:150px;
  background:linear-gradient(160deg,#2b0f1a,#14080d);
  border-radius:14px;
  padding:10px;
  font-size:12px;
  text-align:center;
  box-shadow:0 0 20px rgba(255,70,120,.3);
  transition:transform .3s;
}

.tcgCard:hover{
  transform:scale(1.05);
}

.legendary{
  box-shadow:0 0 30px var(--gold);
}

.closeDeck{
  position:absolute;
  top:20px;
  right:30px;
  font-size:26px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1>üíó Tap the Heart üíó</h1>
  <h2>Something special awaits...</h2>
  <button id="start">‚ù§Ô∏è</button>
  <div class="tease" id="tease"></div>
</div>

<div id="celebrate">
  <div class="topMessage">
    <h1>üíó My favourite person üíó</h1>
    <h2 id="vday">Happy Valentine‚Äôs Day, Aditi ‚ù§Ô∏è</h2>
  </div>

  <div class="stats">
    <div>Pops: <span id="pops">0</span></div>
    <div>Lifetime: <span id="lifetime">0</span></div>
    <div class="multiplier" id="combo">x1</div>
    <button onclick="openDeck()">üíå My Cards</button>
  </div>
</div>

<div class="cardViewer" id="deckViewer">
  <div class="closeDeck" onclick="closeDeck()">√ó</div>
  <h2>Aditi‚Äôs Love Deck</h2>
  <div class="deckGrid" id="deckGrid"></div>
</div>

<audio id="bg" src="bg.mp3" loop></audio>
<audio id="popSound" src="pop.mp3"></audio>

<script>

const bg=document.getElementById("bg");
const popSound=document.getElementById("popSound");

let pops=0;
let lifetime=parseInt(localStorage.getItem("lifetime"))||0;
let combo=1;
let comboTimer=null;
let objects=[];
let deck=JSON.parse(localStorage.getItem("deck"))||[];

const floatEmojis=["üçï","üç´","üåπ","üíã","üêª","üê±","Gumball üíï"];

function startExperience(){
  bg.play();
  document.getElementById("card").style.display="none";
  document.getElementById("celebrate").style.display="block";
  setTimeout(()=>document.getElementById("vday").style.opacity=0,8000);
  spawnInitial();
}

document.getElementById("start").onclick=startExperience;

function spawnInitial(){
  for(let i=0;i<15;i++) spawnFloat();
}

function spawnFloat(){
  const el=document.createElement("div");
  el.className="float";
  el.innerText=floatEmojis[Math.floor(Math.random()*floatEmojis.length)];
  document.getElementById("celebrate").appendChild(el);

  const obj={
    el,
    x:Math.random()*window.innerWidth,
    y:Math.random()*window.innerHeight*.8,
    vx:(Math.random()-.5)*1.5,
    vy:(Math.random()-.5)*1.5
  };

  el.onclick=()=>popFloat(obj);
  objects.push(obj);
}

function popFloat(obj){
  obj.el.classList.add("pop");
  popSound.play();

  setTimeout(()=>{
    obj.el.remove();
    objects=objects.filter(o=>o!==obj);
    pops++;
    lifetime++;
    combo++;
    updateStats();
    spawnFloat();
    saveData();
    resetComboTimer();
    checkCardUnlock();
  },200);
}

function updateStats(){
  document.getElementById("pops").innerText=pops;
  document.getElementById("lifetime").innerText=lifetime;
  document.getElementById("combo").innerText="x"+combo;
}

function resetComboTimer(){
  clearTimeout(comboTimer);
  comboTimer=setTimeout(()=>combo=1,2000);
}

function saveData(){
  localStorage.setItem("lifetime",lifetime);
  localStorage.setItem("deck",JSON.stringify(deck));
}

function checkCardUnlock(){
  if(lifetime===15){
    unlockCard("Kanye Heart King üêª","Legendary");
  }
}

function unlockCard(title,type){
  if(deck.includes(title)) return;
  deck.push(title);
  saveData();
  alert("New Card Unlocked: "+title);
}

function openDeck(){
  const viewer=document.getElementById("deckViewer");
  const grid=document.getElementById("deckGrid");
  grid.innerHTML="";
  deck.forEach(card=>{
    const div=document.createElement("div");
    div.className="tcgCard";
    div.innerText=card;
    if(card.includes("Legendary")) div.classList.add("legendary");
    grid.appendChild(div);
  });
  viewer.style.display="flex";
}

function closeDeck(){
  document.getElementById("deckViewer").style.display="none";
}

function animate(){
  objects.forEach(o=>{
    o.x+=o.vx;
    o.y+=o.vy;

    if(o.x<0||o.x>window.innerWidth-40)o.vx*=-1;
    if(o.y<0||o.y>window.innerHeight*.8)o.vy*=-1;

    o.el.style.transform=`translate(${o.x}px,${o.y}px)`;
  });
  requestAnimationFrame(animate);
}
animate();

</script>
</body>
</html>