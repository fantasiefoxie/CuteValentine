<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditi ‚ù§Ô∏è Valentine</title>

<style>
:root{
  --bg1:#14080d;--bg2:#2b0f1a;--bg3:#0b0b10;
  --accent:#ff7aa2;--muted:#ffcad9;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(1000px circle at 30% 20%, #2a1020 0%, transparent 60%),
    linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  font-family:Inter,system-ui,sans-serif;
  color:white;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* PAGE 1 */
.card{
  background:rgba(0,0,0,.35);
  padding:36px;
  border-radius:28px;
  width:min(92vw,420px);
  text-align:center;
  box-shadow:0 30px 80px rgba(0,0,0,.7);
}
h1{margin:0;color:var(--accent)}
h2{margin:14px 0 28px;color:var(--muted)}

.buttons{position:relative;height:120px}
button{
  border:none;
  border-radius:999px;
  padding:16px 32px;
  font-size:17px;
  cursor:pointer;
}
#yes{
  background:linear-gradient(135deg,#ff7aa2,#ffb3cc);
  color:#2b0f1a;
  position:absolute;
  left:10%;
}
#no{
  background:transparent;
  color:#ffd6e5;
  border:1px solid rgba(255,255,255,.2);
  position:fixed;
}
.tease{margin-top:25px;color:#ffb3c6}

/* PAGE 2 */
#celebrate{
  position:fixed;
  inset:0;
  display:none;
}

#topMessage{
  position:absolute;
  top:20px;
  width:100%;
  text-align:center;
  font-size:22px;
  color:#ffd1dc;
  pointer-events:none;
}

/* FLOAT ZONE */
#floatZone{
  position:absolute;
  top:80px;
  left:50%;
  transform:translateX(-50%);
  width:min(92vw,800px);
  height:70vh;
  border-radius:28px;
  border:1px solid rgba(255,150,180,.2);
  box-shadow:0 0 40px rgba(255,120,170,.15);
  overflow:hidden;
}

/* FLOATIES */
.float{
  position:absolute;
  font-size:48px;
  cursor:pointer;
  user-select:none;
  transition:transform .1s;
}
.float:active{transform:scale(.9)}

.pop{
  animation:pop .25s ease forwards;
}
@keyframes pop{
  0%{transform:scale(1);opacity:1}
  60%{transform:scale(1.6)}
  100%{transform:scale(.2);opacity:0}
}

/* MULTIPLIER */
#multiplier{
  position:absolute;
  top:55px;
  width:100%;
  text-align:center;
  font-size:18px;
  color:#ffc2d6;
  opacity:.8;
}

/* STATS PANEL */
#statsBtn{
  position:absolute;
  bottom:20px;
  left:20px;
  background:none;
  border:none;
  font-size:22px;
  color:#ffc2d6;
  cursor:pointer;
}
#statsPanel{
  position:absolute;
  bottom:70px;
  left:20px;
  background:rgba(0,0,0,.6);
  padding:15px 20px;
  border-radius:18px;
  font-size:14px;
  display:none;
  backdrop-filter:blur(6px);
}

/* CARD */
.cardUnlock{
  position:absolute;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,.7);
}
.cardBox{
  width:220px;
  height:320px;
  background:linear-gradient(135deg,#2c0f1d,#3a1328);
  border-radius:18px;
  box-shadow:0 0 40px rgba(255,120,170,.4);
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
  font-size:18px;
  animation:flip 1s ease;
}
@keyframes flip{
  0%{transform:rotateY(90deg)}
  100%{transform:rotateY(0)}
}

/* Heart shower */
.heartRain{
  position:absolute;
  font-size:22px;
  opacity:.5;
  animation:fall 1.2s linear forwards;
}
@keyframes fall{
  0%{transform:translateY(0);opacity:.7}
  100%{transform:translateY(120px);opacity:0}
}

@media(max-width:600px){
  .float{font-size:32px}
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1>Aditi</h1>
  <h2>Will you be my Valentine?</h2>
  <div class="buttons">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
  <div class="tease" id="tease"></div>
</div>

<div id="celebrate">
  <div id="topMessage">üíó My favourite person üíó</div>
  <div id="multiplier"></div>
  <div id="floatZone"></div>
  <button id="statsBtn">üíå</button>
  <div id="statsPanel"></div>
</div>

<div class="cardUnlock" id="cardUnlock">
  <div class="cardBox" id="cardBox"></div>
</div>

<audio id="bg" src="bg.mp3" loop muted autoplay></audio>
<audio id="popSound" src="pop.mp3"></audio>

<script>

/* AUDIO */
const bg=document.getElementById("bg");
document.addEventListener("click",()=>{
  bg.muted=false;
  bg.play().catch(()=>{});
},{once:true});

/* PAGE 1 CHASE */
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const tease=document.getElementById("tease");
const teaseLines=["Almost üòè","Nice try üòå","You‚Äôre persistent üò≥","This is cardio üèÉ‚Äç‚ôÄÔ∏è","Just click yes üíï"];
let teaseIndex=0;
let noMoves=0;

function moveNo(){
  if(noMoves>50) noMoves=0;
  noBtn.style.left=Math.random()*(window.innerWidth-100)+"px";
  noBtn.style.top=Math.random()*(window.innerHeight-50)+"px";
  tease.textContent=teaseLines[teaseIndex++%teaseLines.length];
  noMoves++;
}
noBtn.addEventListener("mouseenter",moveNo);

yesBtn.onclick=()=>{
  document.getElementById("card").style.display="none";
  document.getElementById("celebrate").style.display="block";
  startGame();
};

/* GAME */
const floatZone=document.getElementById("floatZone");
const multiplierEl=document.getElementById("multiplier");
const statsPanel=document.getElementById("statsPanel");
const statsBtn=document.getElementById("statsBtn");
const popSound=document.getElementById("popSound");
const cardUnlock=document.getElementById("cardUnlock");
const cardBox=document.getElementById("cardBox");

const EMOJIS=["üíã","üçï","üåπ","üßá","üçù","üò∫","üß∏","üåª"];

let floats=[];
let combo=0;
let highestCombo=parseInt(localStorage.getItem("highestCombo")||0);
let lifetime=parseInt(localStorage.getItem("lifetimePops")||0);

function updateStats(){
  statsPanel.innerHTML=
    "Lifetime Pops: "+lifetime+
    "<br>Highest Combo: "+highestCombo;
}
statsBtn.onclick=()=>{
  statsPanel.style.display="block";
  updateStats();
  setTimeout(()=>statsPanel.style.display="none",6000);
};

function createFloat(){
  const el=document.createElement("div");
  el.className="float";
  el.textContent=EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
  floatZone.appendChild(el);

  const obj={
    el,
    x:Math.random()*(floatZone.clientWidth-50),
    y:Math.random()*(floatZone.clientHeight-50),
    vx:(Math.random()>.5?1:-1)*1,
    vy:(Math.random()>.5?1:-1)*1
  };
  floats.push(obj);

  el.onclick=()=>{
    combo++;
    lifetime++;
    popSound.currentTime=0;
    popSound.play().catch(()=>{});
    el.classList.add("pop");
    setTimeout(()=>floatZone.removeChild(el),200);

    if(combo>highestCombo){
      highestCombo=combo;
      localStorage.setItem("highestCombo",highestCombo);
    }
    localStorage.setItem("lifetimePops",lifetime);

    showMultiplier();
    heartRain(combo);
    checkCardUnlock();
  };
}

function showMultiplier(){
  let mult=1;
  if(combo>=12) mult=3;
  else if(combo>=8) mult=2;
  else if(combo>=5) mult=1.5;
  else if(combo>=3) mult=1.2;
  multiplierEl.textContent="Combo x"+mult.toFixed(1);
}

function heartRain(level){
  if(level<5) return;
  for(let i=0;i<6;i++){
    const h=document.createElement("div");
    h.className="heartRain";
    h.textContent="üíó";
    h.style.left=Math.random()*floatZone.clientWidth+"px";
    floatZone.appendChild(h);
    setTimeout(()=>floatZone.removeChild(h),1200);
  }
}

function checkCardUnlock(){
  if(lifetime===25){
    cardBox.textContent="üíñ Kanye Heart King Bear üíñ";
    cardUnlock.style.display="flex";
    setTimeout(()=>cardUnlock.style.display="none",3000);
  }
}

function animate(){
  floats.forEach(f=>{
    f.x+=f.vx;
    f.y+=f.vy;
    if(f.x<0||f.x>floatZone.clientWidth-40)f.vx*=-1;
    if(f.y<0||f.y>floatZone.clientHeight-40)f.vy*=-1;
    f.el.style.transform=`translate(${f.x}px,${f.y}px)`;
  });
  requestAnimationFrame(animate);
}

function startGame(){
  for(let i=0;i<12;i++) createFloat();
  animate();
}

</script>
</body>
</html>