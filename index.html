<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditi ‚ù§Ô∏è</title>

<style>
:root{
  --bg1:#14080d;
  --bg2:#2b0f1a;
  --accent:#ff7aa2;
}

*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  background:radial-gradient(circle at top,#2b0f1a,#0b0b10);
  font-family:system-ui;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ---------- INTRO ---------- */
#intro{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle,#2b0f1a,#000);
  z-index:5;
}

#heart{
  font-size:90px;
  cursor:pointer;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{filter:drop-shadow(0 0 10px #ff4d88);}
  to{filter:drop-shadow(0 0 30px #ff4d88);}
}

#enterText{
  margin-top:20px;
  font-size:18px;
  opacity:0.8;
}

/* ---------- CARD ---------- */
.card{
  background:#1a0f16;
  padding:40px;
  border-radius:20px;
  text-align:center;
  width:320px;
  display:none;
}

h1{margin:0;color:#ff7aa2}
h2{margin-top:10px;font-weight:400}

.buttons{
  position:relative;
  height:100px;
  margin-top:20px;
}

button{
  border:none;
  padding:14px 30px;
  border-radius:999px;
  font-size:16px;
  cursor:pointer;
}

#yes{
  background:#ff7aa2;
  color:#2b0f1a;
  position:absolute;
  left:10%;
  transition:transform .2s;
}

#no{
  background:transparent;
  border:1px solid #fff3;
  color:#ddd;
  position:fixed;
  left:60%;
  top:60%;
}

.tease{
  margin-top:20px;
  height:24px;
  color:#ff9ec0;
  font-size:14px;
}

/* ---------- CELEBRATE ---------- */
#celebrate{
  position:fixed;
  inset:0;
  display:none;
  background:radial-gradient(circle,#2b0f1a,#000);
}

.message{
  position:fixed;
  top:40px;
  width:100%;
  text-align:center;
  font-size:24px;
  color:#ffd1dc;
}

.combo{
  position:fixed;
  bottom:20px;
  right:20px;
  font-size:18px;
  color:#ffb3c6;
}

.float{
  position:absolute;
  font-size:36px;
  cursor:pointer;
  user-select:none;
}

.yummy{
  position:absolute;
  font-size:28px;
  font-weight:900;
  color:white;
  -webkit-text-stroke:2px #ff4d88;
  animation:yum 1s forwards;
}

@keyframes yum{
  0%{transform:scale(.5);opacity:0}
  40%{transform:scale(1.3);opacity:1}
  100%{transform:translateY(-60px);opacity:0}
}

.pop{
  animation:pop .25s forwards;
}

@keyframes pop{
  0%{transform:scale(1);opacity:1}
  50%{transform:scale(1.6)}
  100%{transform:scale(.2);opacity:0}
}
</style>
</head>
<body>

<div id="intro">
  <div id="heart">‚ù§Ô∏è</div>
  <div id="enterText">Tap the heart</div>
</div>

<div class="card" id="card">
  <h1>Aditi</h1>
  <h2>Will you be my Valentine?</h2>
  <div class="buttons">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
  <div class="tease" id="tease"></div>
</div>

<div id="celebrate">
  <div class="message">üíó My favourite person üíó</div>
  <div class="combo" id="combo">Combo: 0 | Mult: 1x</div>
</div>

<audio id="bg" src="bg.mp3" loop></audio>
<audio id="popSound" src="pop.mp3"></audio>

<script>
const heart=document.getElementById("heart");
const intro=document.getElementById("intro");
const card=document.getElementById("card");
const bg=document.getElementById("bg");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const tease=document.getElementById("tease");
const celebrate=document.getElementById("celebrate");
const comboDisplay=document.getElementById("combo");
const popSound=document.getElementById("popSound");

let yesScale=1;
let combo=0;
let multiplier=1;
let lastType=null;
let floats=[];

heart.onclick=()=>{
  bg.play().catch(()=>{});
  intro.style.display="none";
  card.style.display="block";
};

/* ---------- CHASE ---------- */
const teaseLines=[
"Almost üòè",
"Nice try üòå",
"Persistent huh üò≥",
"You can do better üíï"
];
let teaseIndex=0;

function moveNo(){
  no.style.left=Math.random()*(window.innerWidth-80)+"px";
  no.style.top=Math.random()*(window.innerHeight-40)+"px";
  tease.textContent=teaseLines[teaseIndex++%teaseLines.length];
  yesScale+=0.05;
  yes.style.transform=`scale(${yesScale})`;
}
no.onmouseenter=moveNo;

/* ---------- YES ---------- */
yes.onclick=()=>{
  card.style.display="none";
  celebrate.style.display="block";
  spawnInitial();
};

/* ---------- FLOATS ---------- */
const items=["üç´","üçï","üåπ","üíã","üß∏","Cutie üíñ"];

function spawnInitial(){
  for(let i=0;i<12;i++){
    createFloat(randomItem());
  }
}

function randomItem(){
  return items[Math.floor(Math.random()*items.length)];
}

function createFloat(text){
  const el=document.createElement("div");
  el.className="float";
  el.textContent=text;
  celebrate.appendChild(el);

  const obj={
    el,
    x:Math.random()*(window.innerWidth-50),
    y:Math.random()*(window.innerHeight-100),
    vx:(Math.random()>.5?1:-1)*1,
    vy:(Math.random()>.5?1:-1)*1,
    type:text
  };

  el.onclick=()=>{
    pop(obj,true);
  };

  floats.push(obj);
}

function pop(obj,spawn){
  obj.el.classList.add("pop");
  popSound.currentTime=0;
  popSound.play();
  
  const yum=document.createElement("div");
  yum.className="yummy";
  yum.style.left=obj.x+"px";
  yum.style.top=obj.y+"px";
  yum.textContent="YUMMY!";
  celebrate.appendChild(yum);
  setTimeout(()=>yum.remove(),1000);

  setTimeout(()=>{
    obj.el.remove();
    floats=floats.filter(f=>f!==obj);
    if(spawn) createFloat(randomItem());
    updateCombo(obj.type);
  },250);
}

function updateCombo(type){
  if(type===lastType){
    combo++;
  }else{
    combo=1;
    lastType=type;
  }

  if(combo>=3){
    multiplier++;
    autoPop();
    combo=0;
  }

  comboDisplay.textContent=`Combo: ${combo} | Mult: ${multiplier}x`;
}

function autoPop(){
  const snapshot=[...floats];
  let i=0;
  function step(){
    if(i>=snapshot.length)return;
    pop(snapshot[i++],false);
    setTimeout(step,100);
  }
  step();
}

/* ---------- ANIMATE ---------- */
function animate(){
  floats.forEach(f=>{
    f.x+=f.vx;
    f.y+=f.vy;
    if(f.x<0||f.x>window.innerWidth-40)f.vx*=-1;
    if(f.y<0||f.y>window.innerHeight-80)f.vy*=-1;
    f.el.style.transform=`translate(${f.x}px,${f.y}px)`;
  });
  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>