<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditi ‚ù§Ô∏è Valentine</title>

<style>
/* =======================
   DARK ROMANTIC BASE
======================= */
:root{
  --bg1:#0f0612;
  --bg2:#1c0b22;
  --accent:#ff7aa2;
  --gold:#f4d27a;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  font-family: 'Poppins', sans-serif;
  overflow:hidden;
  color:white;
}

/* =======================
   HEART SCREEN
======================= */

#heartScreen{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at center,#2b0f33 0%,#0f0612 70%);
  z-index:10;
}

#bigHeart{
  font-size:90px;
  cursor:pointer;
  animation:glowPulse 2.5s infinite ease-in-out;
}

@keyframes glowPulse{
  0%{transform:scale(1); text-shadow:0 0 20px #ff4da6;}
  50%{transform:scale(1.1); text-shadow:0 0 40px #ff8ac6;}
  100%{transform:scale(1); text-shadow:0 0 20px #ff4da6;}
}

/* =======================
   QUESTION CARD
======================= */

.card{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
}

.cardContent{
  background:rgba(0,0,0,.4);
  padding:40px;
  border-radius:20px;
  text-align:center;
  backdrop-filter:blur(10px);
}

button{
  padding:14px 30px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  font-size:16px;
}

#yes{
  background:var(--accent);
  color:#1a0b18;
}

#no{
  background:transparent;
  border:1px solid rgba(255,255,255,.3);
  color:white;
  position:absolute;
}

/* =======================
   GAME SCREEN
======================= */

#celebrate{
  display:none;
  position:fixed;
  inset:0;
  overflow:hidden;
}

#message{
  position:absolute;
  top:20px;
  width:100%;
  text-align:center;
  font-size:18px;
  opacity:.9;
}

.float{
  position:absolute;
  cursor:pointer;
  user-select:none;
  font-size:30px;
  transition:transform .1s;
}

.pop{
  animation:pop .3s ease forwards;
}

@keyframes pop{
  0%{transform:scale(1)}
  50%{transform:scale(1.5)}
  100%{transform:scale(0); opacity:0}
}

/* =======================
   TAROT DECK PANEL
======================= */

#deckButton{
  position:fixed;
  bottom:15px;
  left:15px;
  background:rgba(0,0,0,.5);
  border:1px solid var(--gold);
  color:var(--gold);
}

#deckPanel{
  position:fixed;
  bottom:-100%;
  left:0;
  right:0;
  height:70%;
  background:linear-gradient(#1b0c21,#0f0612);
  border-top:2px solid var(--gold);
  transition:.4s ease;
  overflow-y:auto;
  padding:20px;
}

#deckPanel.open{
  bottom:0;
}

.cardItem{
  border:1px solid var(--gold);
  padding:15px;
  margin:10px;
  border-radius:12px;
  background:rgba(255,255,255,.05);
  box-shadow:0 0 15px rgba(244,210,122,.4);
}

.cardTitle{
  font-family:'Georgia', serif;
  color:var(--gold);
}

</style>
</head>
<body>

<div id="heartScreen">
  <div id="bigHeart">‚ù§Ô∏è</div>
</div>

<div class="card" id="questionCard">
  <div class="cardContent">
    <h2>Aditi...</h2>
    <p>Will you be my Valentine?</p>
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<div id="celebrate">
  <div id="message">You make my world warmer üíó</div>
  <button id="deckButton">Aditi‚Äôs Arcana</button>
</div>

<div id="deckPanel"></div>

<audio id="bg" src="bg.mp3" loop></audio>
<audio id="blue" src="blue.mp3" loop></audio>
<audio id="popSound" src="pop.mp3"></audio>

<script>

/* ======================
   AUDIO
====================== */

const bg = document.getElementById("bg");
const blue = document.getElementById("blue");
const popSound = document.getElementById("popSound");

document.getElementById("bigHeart").onclick = () => {
  bg.play();
  document.getElementById("heartScreen").style.display="none";
  document.getElementById("questionCard").style.display="flex";
};

/* ======================
   CHASE LOGIC
====================== */

const noBtn = document.getElementById("no");

noBtn.addEventListener("mouseenter",()=>{
  noBtn.style.top=Math.random()*80+"%";
  noBtn.style.left=Math.random()*80+"%";
});

/* ======================
   START GAME
====================== */

let popCount=0;
let combo=0;
let lastType=null;

document.getElementById("yes").onclick = ()=>{
  bg.pause();
  blue.play();
  document.getElementById("questionCard").style.display="none";
  document.getElementById("celebrate").style.display="block";
  spawnInitial();
};

const emojis=["üêª","üíñ","üåπ","‚ú®","üç´","üß∏","üíï","üåô"];

function spawnInitial(){
  for(let i=0;i<10;i++) spawn();
}

function spawn(){
  const el=document.createElement("div");
  el.className="float";
  const type=emojis[Math.floor(Math.random()*emojis.length)];
  el.textContent=type;
  el.style.top=Math.random()*80+"%";
  el.style.left=Math.random()*80+"%";
  document.getElementById("celebrate").appendChild(el);

  el.onclick=()=>{
    el.classList.add("pop");
    popSound.play();
    popCount++;
    spawn();
    checkUnlock();
    setTimeout(()=>el.remove(),300);
  };
}

/* ======================
   TAROT DECK SYSTEM
====================== */

let unlocked = JSON.parse(localStorage.getItem("aditiDeck")||"[]");

function saveDeck(){
  localStorage.setItem("aditiDeck",JSON.stringify(unlocked));
}

function unlockCard(name,desc){
  if(unlocked.find(c=>c.name===name)) return;
  unlocked.push({name,desc});
  saveDeck();
  renderDeck();
}

function checkUnlock(){
  if(popCount===25){
    unlockCard("The Bear King of Hearts",
      "Leads with warmth. Grants +2 Multiplier Blessing.");
  }
  if(popCount===100){
    unlockCard("The Golden Heart",
      "Radiates eternal affection. Rare Arcana.");
  }
}

function renderDeck(){
  const panel=document.getElementById("deckPanel");
  panel.innerHTML="";
  unlocked.forEach(c=>{
    const div=document.createElement("div");
    div.className="cardItem";
    div.innerHTML=`<div class="cardTitle">${c.name}</div>
                   <div>${c.desc}</div>`;
    panel.appendChild(div);
  });
}

document.getElementById("deckButton").onclick=()=>{
  document.getElementById("deckPanel").classList.toggle("open");
};

renderDeck();

</script>
</body>
</html>