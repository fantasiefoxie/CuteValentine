<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditi ‚ù§Ô∏è</title>

<style>
:root{
  --bg1:#12070f;
  --bg2:#2a0f1c;
  --accent:#ff6fa5;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  background:linear-gradient(160deg,var(--bg1),var(--bg2));
  font-family:system-ui;
  overflow:hidden;
  color:white;
}

/* INTRO */
#intro{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle,#3b1024,#12070f);
}

#heart{
  font-size:80px;
  cursor:pointer;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{filter:drop-shadow(0 0 10px #ff4d88)}
  to{filter:drop-shadow(0 0 30px #ff9ec9)}
}

/* PAGE 1 */
#card{
  display:none;
  position:fixed;
  inset:0;
  padding-top:120px;
  text-align:center;
}

#card h1{
  font-size:28px;
  margin-bottom:20px;
}

button{
  padding:14px 28px;
  border:none;
  border-radius:30px;
  font-size:16px;
}

#yes{
  background:#ff6fa5;
  color:#200;
}

#no{
  position:absolute;
  background:transparent;
  color:#fff;
  border:1px solid #ff6fa5;
}

#tease{
  margin-top:40px;
  height:30px;
  font-size:14px;
  color:#ffb3d1;
}

/* PAGE 2 */
#celebrate{
  display:none;
  position:fixed;
  inset:0;
}

#message{
  position:fixed;
  top:40px;
  width:100%;
  text-align:center;
  font-size:20px;
}

#combo{
  position:fixed;
  bottom:15px;
  right:15px;
  font-size:14px;
  color:#ffb3d1;
}

.float{
  position:fixed;
  font-size:32px;
  cursor:pointer;
}

.yummy{
  position:fixed;
  font-size:28px;
  font-weight:bold;
  color:white;
  text-shadow:0 0 8px #ff4d88;
  animation:rise 1s forwards;
}

@keyframes rise{
  from{opacity:1}
  to{opacity:0; transform:translateY(-50px)}
}

.pop{
  animation:pop 0.25s forwards;
}

@keyframes pop{
  0%{transform:scale(1)}
  50%{transform:scale(1.6)}
  100%{transform:scale(0);opacity:0}
}

@media (min-width:700px){
  .float{font-size:50px}
}
</style>
</head>

<body>

<div id="intro">
  <div id="heart">‚ù§Ô∏è</div>
</div>

<div id="card">
  <h1>Aditi üíï<br>Will you be my Valentine?</h1>
  <button id="yes">Yes</button>
  <button id="no">No</button>
  <div id="tease"></div>
</div>

<div id="celebrate">
  <div id="message">Happy Valentine‚Äôs Day, Aditi üíñ</div>
  <div id="combo">Combo: 0 | Mult: 1x</div>
</div>

<audio id="bg" src="bg.mp3" loop></audio>
<audio id="blue" src="blue.mp3" loop></audio>
<audio id="popSound" src="pop.mp3"></audio>

<script>
const heart=document.getElementById("heart");
const intro=document.getElementById("intro");
const card=document.getElementById("card");
const bg=document.getElementById("bg");
const blue=document.getElementById("blue");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const tease=document.getElementById("tease");
const celebrate=document.getElementById("celebrate");
const comboDisplay=document.getElementById("combo");
const popSound=document.getElementById("popSound");

let floats=[];
let BASE_FLOATS=12;
let combo=0;
let multiplier=1;
let lastType=null;
let yesScale=1;

/* HEART */
heart.onclick=()=>{
  bg.play().catch(()=>{});
  intro.style.display="none";
  card.style.display="block";
};

/* CHASE */
const teaseLines=[
"Almost üòè",
"Nice try üòå",
"Persistent huh üò≥",
"You can do better üíï"
];
let teaseIndex=0;

function moveNo(){
  no.style.left=Math.random()*(window.innerWidth-100)+"px";
  no.style.top=Math.random()*(window.innerHeight-100)+"px";
  tease.textContent=teaseLines[teaseIndex++%teaseLines.length];
  yesScale+=0.05;
  yes.style.transform=`scale(${yesScale})`;
}

no.addEventListener("touchstart",moveNo);
no.addEventListener("mouseenter",moveNo);

/* YES */
yes.onclick=()=>{
  bg.pause();
  bg.currentTime=0;
  blue.play().catch(()=>{});
  card.style.display="none";
  celebrate.style.display="block";
  spawnInitial();
};

/* FLOAT LOGIC */
const items=["üç´","üçï","üåπ","üíã","üß∏","Cutie üíñ"];

function randomItem(){
  return items[Math.floor(Math.random()*items.length)];
}

function spawnInitial(){
  floats=[];
  for(let i=0;i<BASE_FLOATS;i++){
    createFloat(randomItem());
  }
}

function createFloat(text){
  const el=document.createElement("div");
  el.className="float";
  el.textContent=text;
  celebrate.appendChild(el);

  const obj={
    el,
    x:Math.random()*(window.innerWidth-40),
    y:Math.random()*(window.innerHeight-150),
    vx:(Math.random()>.5?1:-1)*1,
    vy:(Math.random()>.5?1:-1)*1,
    type:text
  };

  el.onclick=()=>pop(obj,true);
  floats.push(obj);
}

function pop(obj,spawn){
  obj.el.classList.add("pop");
  popSound.currentTime=0;
  popSound.play().catch(()=>{});

  const yum=document.createElement("div");
  yum.className="yummy";
  yum.style.left=obj.x+"px";
  yum.style.top=obj.y+"px";
  yum.textContent="YUMMY!";
  celebrate.appendChild(yum);
  setTimeout(()=>yum.remove(),1000);

  setTimeout(()=>{
    obj.el.remove();
    floats=floats.filter(f=>f!==obj);
    if(spawn) createFloat(randomItem());
    updateCombo(obj.type);
  },250);
}

function updateCombo(type){
  if(type===lastType){
    combo++;
  } else{
    combo=1;
    lastType=type;
  }

  if(combo>=3){
    multiplier++;
    autoPop();
    combo=0;
  }

  comboDisplay.textContent=`Combo: ${combo} | Mult: ${multiplier}x`;
}

function autoPop(){
  const snapshot=[...floats];
  let i=0;

  function step(){
    if(i>=snapshot.length){
      maintainFloats();
      return;
    }
    pop(snapshot[i++],false);
    setTimeout(step,120);
  }
  step();
}

function maintainFloats(){
  const deficit=BASE_FLOATS-floats.length;
  for(let i=0;i<deficit;i++){
    createFloat(randomItem());
  }
}

/* ANIMATION */
function animate(){
  floats.forEach(f=>{
    f.x+=f.vx;
    f.y+=f.vy;

    if(f.x<0||f.x>window.innerWidth-40)f.vx*=-1;
    if(f.y<60||f.y>window.innerHeight-80)f.vy*=-1;

    f.el.style.transform=`translate(${f.x}px,${f.y}px)`;
  });
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>